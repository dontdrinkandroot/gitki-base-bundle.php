services:
    ddr_gitki_test.user_provider:
        class: Dontdrinkandroot\GitkiBundle\Tests\TestApp\Security\StaticUserProvider

framework:
    secret: 'test'
    test: ~
    assets: ~
    form: ~

sensio_framework_extra:
    router: { annotations: false }
    request: { converters: true, auto_convert: true }
    view: { annotations: false }
    cache: { annotations: false }
    security: { annotations: false }

security:

    enable_authenticator_manager: true

    encoders:
        Dontdrinkandroot\GitkiBundle\Tests\TestApp\Security\User: plaintext

    providers:
        static:
            id: ddr_gitki_test.user_provider

    firewalls:
        dev:
            pattern: ^/(_(profiler|wdt)|css|images|js)/
            security: false

        default:
            lazy: true
            http_basic: ~

ddr_gitki:
    repository_path: '/tmp/gitkitest/repo/'

when@elasticsearch:
    ddr_gitki:
        elasticsearch:
            index_name: gitki_test
